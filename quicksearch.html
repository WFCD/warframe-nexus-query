<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"market_v2_constants.js.html":{"id":"market_v2_constants.js.html","title":"Source: market/v2/constants.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/constants.js /** * Constants for Warframe Market API v2 */ export const API_BASE_URL = process.env.MARKET_V2_URL_OVERRIDE || 'https://api.warframe.market/v2'; export const ASSETS_BASE_URL = process.env.MARKET_ASSETS_URL_OVERRIDE || 'https://warframe.market/static/assets/'; export const DEFAULT_TIMEOUT = parseInt(process.env.MARKET_TIMEOUT, 10) || 5000; export const VERSION_CHECK_INTERVAL = 5 * 60 * 1000; // 5 minutes export const CACHE_TTL = 60 * 60 * 1000; // 1 hour fallback TTL export const SHORT_CACHE_TTL = 60 * 1000; // 1 minute for orders export const PLATFORMS = { pc: 'pc', ps4: 'ps4', playstation: 'ps4', xb1: 'xbox', xbone: 'xbox', xbox: 'xbox', switch: 'switch', swi: 'switch', ns: 'switch', mobile: 'mobile', }; export const LANGUAGES = { en: 'en', es: 'es', fr: 'fr', de: 'de', it: 'it', pl: 'pl', pt: 'pt', ru: 'ru', ko: 'ko', 'zh-hans': 'zh-hans', 'zh-hant': 'zh-hant', uk: 'uk', }; export const USER_STATUS = { INVISIBLE: 'invisible', OFFLINE: 'offline', ONLINE: 'online', INGAME: 'ingame', }; export const ACTIVITY_TYPE = { UNKNOWN: 'UNKNOWN', IDLE: 'IDLE', ON_MISSION: 'ON_MISSION', IN_DOJO: 'IN_DOJO', IN_ORBITER: 'IN_ORBITER', IN_RELAY: 'IN_RELAY', }; export const ORDER_TYPE = { BUY: 'buy', SELL: 'sell', }; √ó Search results Close "},"market_v2_models_Order.js.html":{"id":"market_v2_models_Order.js.html","title":"Source: market/v2/models/Order.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/models/Order.js /** * User information embedded in orders */ class OrderUser { constructor(data) { this.id = data.id; this.ingameName = data.ingameName; this.avatar = data.avatar; this.reputation = data.reputation || 0; this.locale = data.locale; this.platform = data.platform; this.crossplay = data.crossplay || false; this.status = data.status; // 'online' | 'ingame' | 'offline' | 'invisible' this.activity = data.activity; // { type, details, startedAt } this.lastSeen = data.lastSeen ? new Date(data.lastSeen) : null; } /** * Check if user is online * @returns {boolean} */ isOnline() { return this.status === 'online' || this.status === 'ingame'; } /** * Get activity description * @returns {string} */ getActivityDescription() { if (!this.activity || !this.activity.type) return null; const { type, details } = this.activity; switch (type) { case 'ON_MISSION': return details ? `On Mission: ${details}` : 'On Mission'; case 'IN_DOJO': return 'In Dojo'; case 'IN_ORBITER': return 'In Orbiter'; case 'IN_RELAY': return details ? `In Relay: ${details}` : 'In Relay'; case 'IDLE': return 'Idle'; default: return null; } } /** * Get status emoji * @returns {string} */ getStatusEmoji() { switch (this.status) { case 'online': return 'üü¢'; case 'ingame': return 'üéÆ'; case 'offline': return '‚ö´'; case 'invisible': return 'üëª'; default: return '‚ùì'; } } /** * Convert to JSON * @returns {Object} */ toJSON() { return { id: this.id, ingameName: this.ingameName, avatar: this.avatar, reputation: this.reputation, locale: this.locale, platform: this.platform, crossplay: this.crossplay, status: this.status, activity: this.activity, lastSeen: this.lastSeen?.toISOString(), }; } } /** * Order model for Warframe Market API v2 * Represents a buy or sell order with optional user information */ export default class Order { /** * @param {Object} data - Raw order data from API */ constructor(data) { this.id = data.id; this.type = data.type; // 'buy' | 'sell' this.platinum = data.platinum; this.quantity = data.quantity; this.perTrade = data.perTrade; // Item modifiers this.rank = data.rank; this.charges = data.charges; this.subtype = data.subtype; this.amberStars = data.amberStars; this.cyanStars = data.cyanStars; // Metadata this.visible = data.visible; this.createdAt = data.createdAt ? new Date(data.createdAt) : null; this.updatedAt = data.updatedAt ? new Date(data.updatedAt) : null; this.itemId = data.itemId; this.group = data.group; // User data (if OrderWithUser) this.user = data.user ? new OrderUser(data.user) : null; } /** * Check if order is from an online user * @returns {boolean} */ isUserOnline() { if (!this.user) return false; return this.user.status === 'online' || this.user.status === 'ingame'; } /** * Check if order is buy type * @returns {boolean} */ isBuyOrder() { return this.type === 'buy'; } /** * Check if order is sell type * @returns {boolean} */ isSellOrder() { return this.type === 'sell'; } /** * Get order age in hours * @returns {number} */ getAgeHours() { if (!this.updatedAt) return 0; return (Date.now() - this.updatedAt.getTime()) / (1000 * 60 * 60); } /** * Convert to JSON * @returns {Object} */ toJSON() { return { id: this.id, type: this.type, platinum: this.platinum, quantity: this.quantity, perTrade: this.perTrade, rank: this.rank, charges: this.charges, subtype: this.subtype, amberStars: this.amberStars, cyanStars: this.cyanStars, visible: this.visible, createdAt: this.createdAt?.toISOString(), updatedAt: this.updatedAt?.toISOString(), itemId: this.itemId, group: this.group, user: this.user?.toJSON(), }; } /** * Convert to string representation * @returns {string} */ toString() { const userStr = this.user ? ` by ${this.user.ingameName}` : ''; const modifiers = []; if (this.rank != null) modifiers.push(`R${this.rank}`); if (this.subtype) modifiers.push(this.subtype); const modStr = modifiers.length &gt; 0 ? ` (${modifiers.join(', ')})` : ''; return `${this.type.toUpperCase()}: ${this.platinum}p x${this.quantity}${modStr}${userStr}`; } } export { OrderUser }; √ó Search results Close "},"AttachmentCreator.js.html":{"id":"AttachmentCreator.js.html","title":"Source: AttachmentCreator.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: AttachmentCreator.js import n from 'numeral'; const numerFmt = '0,0'; const wfcdLogo = 'https://warframestat.us/wfcd_logo_color.png'; const noResultAttachment = { type: 'rich', title: 'No result', color: 0xff55ff, url: 'https://warframe.market', footer: { text: 'Price data provided by NexusHub.co &amp; Warframe.Market', icon_url: wfcdLogo, }, }; const baseAttachment = { type: 'rich', title: '', color: 0xff00ff, url: '', fields: [], thumbnail: { url: '' }, footer: { icon_url: wfcdLogo, text: 'Data by NexusHub.co &amp; Warframe.Market', }, }; /** * Calculate the safe value for a provided value * @param {string} value provided value * @returns {string} safe value */ function safeValue(value) { return value ? `${Number.parseInt(value, 10)}p` : 'No Data'; } /** * Calculate the safe value for a provided value * @param {string} value1 provided minimum value * @param {string} value2 provided maximum value * @returns {string} safe value */ function safeRange(value1, value2) { return value1 ? `${Number.parseInt(value1, 10)}p - ${Number.parseInt(value2, 10)}p` : 'No Data'; } /** * Build a field from provided nexus &amp; market components (v1) * @param {MarketComponent} mComponent market component * @returns {Object} built field */ function fieldValue(mComponent) { let mMedian; let mRange; if (mComponent) { mMedian = safeValue(mComponent.prices.soldPrice); mRange = safeRange(mComponent.prices.minimum, mComponent.prices.maximum); } return { name: mComponent.name.trim(), value: '```haskell\\n' + `${'Value'.padEnd(6, ' ')} | Market\\n` + `${'Median'.padEnd(6, ' ')} | ${mMedian}\\n` + `${'Range'.padEnd(6, ' ')} | ${mRange}\\n` + '```\\n' + `Trade Tax: ${n(mComponent.tradingTax).format(numerFmt)}cr\\n`, inline: false, }; } /** * Build a field from v2 market component with trader info * @param {MarketComponent} mComponent market component (v2) * @returns {Object} built field */ function fieldValueV2(mComponent) { // Validate input if (!mComponent) { throw new TypeError('mComponent is required'); } if (typeof mComponent !== 'object') { throw new TypeError('mComponent must be an object'); } if (!mComponent.name || typeof mComponent.name !== 'string') { throw new TypeError('mComponent.name must be a non-empty string'); } if (mComponent.tradingTax !== undefined &amp;&amp; typeof mComponent.tradingTax !== 'number') { throw new TypeError('mComponent.tradingTax must be a number'); } if (mComponent.statistics &amp;&amp; typeof mComponent.statistics !== 'object') { throw new TypeError('mComponent.statistics must be an object'); } const sellStats = mComponent.statistics?.sell || {}; const mMedian = safeValue(sellStats.median); const mRange = safeRange(sellStats.min, sellStats.max); // Get online sellers (up to 3) const onlineSellers = mComponent.getOnlineSellers ? mComponent.getOnlineSellers(3) : []; let tradersInfo = ''; if (onlineSellers.length &gt; 0) { tradersInfo = '\\n**Online Sellers:**\\n'; onlineSellers.forEach((trader, idx) =&gt; { const statusEmoji = trader.status === 'online' ? 'üü¢' : 'üü°'; const activityText = trader.activity ? ` (${trader.activity})` : ''; tradersInfo += `${idx + 1}. ${statusEmoji} ${trader.ingameName}: ${trader.platinum}p${activityText}\\n`; }); } else { tradersInfo = '\\n_No online sellers currently available_\\n'; } return { name: mComponent.name.trim(), value: `\\`\\`\\`haskell\\n` + `${'Value'.padEnd(6, ' ')} | Market\\n` + `${'Median'.padEnd(6, ' ')} | ${mMedian}\\n` + `${'Range'.padEnd(6, ' ')} | ${mRange}\\n` + `${'Volume'.padEnd(6, ' ')} | ${sellStats.orderCount || 0} orders\\n` + `\\`\\`\\`\\n` + `Trade Tax: ${n(mComponent.tradingTax).format(numerFmt)}cr\\n${tradersInfo}`, inline: false, }; } /** * Create the attachment itself */ export default class AttachmentCreator { /** * Build an attachment from the provided components * @param {Array&lt;MarketComponent&gt;} components - * collected array of components with market data * @param {string} query Search query that these components match * @param {string} [platform='pc'] Platform for the request, defaults to 'pc' * @returns {Object} Discord-ready attachment describing the item */ attachmentFromComponents(components, query, platform = 'pc') { if (!components || !components.length || !Array.isArray(components)) return noResultAttachment; const attachment = JSON.parse(JSON.stringify(baseAttachment)); // Check if we have v2 components const v2Components = components.filter( (component) =&gt; component &amp;&amp; component.type === 'market-v2' &amp;&amp; component.statistics ); // Fall back to v1 components if no v2 found const marketComponents = v2Components.length &gt; 0 ? v2Components : components.filter( (component) =&gt; component &amp;&amp; component.type === 'market-v1' &amp;&amp; typeof component.prices.soldPrice !== 'undefined' ); const isV2 = v2Components.length &gt; 0; /* istanbul ignore else */ if (marketComponents.length &gt; 0) { marketComponents.forEach((marketComponent, index) =&gt; { if (!index) { attachment.color = parseInt(marketComponent.color, 16); attachment.title = `[${platform.toUpperCase()}] ${marketComponent.name.replace(/\\sset/i, '')}`; attachment.url = marketComponent.url; attachment.thumbnail.url = marketComponent.thumbnail; } // Use appropriate field builder based on version attachment.fields.push(isV2 ? fieldValueV2(marketComponent) : fieldValue(marketComponent)); }); attachment.footer = { icon_url: wfcdLogo, text: isV2 ? 'Price data provided by Warframe.Market (API v2)' : 'Price data provided by Warframe.Market', }; } else { return noResultAttachment; } /* istanbul ignore else */ if (attachment.fields.length) { return attachment; } /* istanbul ignore next */ return noResultAttachment; } } √ó Search results Close "},"market_v2_utils_statistics.js.html":{"id":"market_v2_utils_statistics.js.html","title":"Source: market/v2/utils/statistics.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/utils/statistics.js /** * Statistics calculator for order data * Replaces v1's pre-calculated statistics with client-side calculation */ /** * Calculate statistics from order list * @param {Array&lt;Order&gt;} orders - Array of orders * @param {Object} options - Calculation options * @param {string} [options.type='sell'] - Order type ('buy' or 'sell') * @param {boolean} [options.onlineOnly=true] - Only include online users * @param {boolean} [options.includeOutliers=true] - Include price outliers * @returns {Object} Statistics object */ export function calculateStatistics(orders, options = {}) { const { type = 'sell', onlineOnly = true, includeOutliers = true } = options; // Filter orders let filtered = orders.filter((o) =&gt; o.type === type); // Filter online users only if (onlineOnly) { filtered = filtered.filter((o) =&gt; o.isUserOnline()); } // Extract prices let prices = filtered.map((o) =&gt; o.platinum).sort((a, b) =&gt; a - b); // Remove outliers if requested (using IQR method) if (!includeOutliers &amp;&amp; prices.length &gt; 4) { prices = removeOutliers(prices); } // If no prices, return empty stats if (prices.length === 0) { return { volume: 0, orderCount: 0, median: 0, min: 0, max: 0, avg: 0, q1: 0, q3: 0, }; } // Calculate volume const volume = filtered.reduce((sum, o) =&gt; sum + o.quantity, 0); // Calculate statistics const median = calculateMedian(prices); const min = prices[0]; const max = prices[prices.length - 1]; const avg = prices.reduce((a, b) =&gt; a + b, 0) / prices.length; const q1 = calculatePercentile(prices, 25); const q3 = calculatePercentile(prices, 75); return { volume, orderCount: filtered.length, median: Math.round(median), min, max, avg: Math.round(avg), q1: Math.round(q1), q3: Math.round(q3), }; } /** * Calculate median of sorted array * @param {number[]} sortedPrices - Sorted price array * @returns {number} */ function calculateMedian(sortedPrices) { const len = sortedPrices.length; if (len === 0) return 0; if (len === 1) return sortedPrices[0]; const mid = Math.floor(len / 2); if (len % 2 === 0) { return (sortedPrices[mid - 1] + sortedPrices[mid]) / 2; } return sortedPrices[mid]; } /** * Calculate percentile of sorted array * @param {number[]} sortedPrices - Sorted price array * @param {number} percentile - Percentile (0-100) * @returns {number} */ function calculatePercentile(sortedPrices, percentile) { if (sortedPrices.length === 0) return 0; if (sortedPrices.length === 1) return sortedPrices[0]; const index = (percentile / 100) * (sortedPrices.length - 1); const lower = Math.floor(index); const upper = Math.ceil(index); const weight = index - lower; return sortedPrices[lower] * (1 - weight) + sortedPrices[upper] * weight; } /** * Remove outliers using IQR method * @param {number[]} sortedPrices - Sorted price array * @returns {number[]} */ function removeOutliers(sortedPrices) { const q1 = calculatePercentile(sortedPrices, 25); const q3 = calculatePercentile(sortedPrices, 75); const iqr = q3 - q1; const lowerBound = q1 - 1.5 * iqr; const upperBound = q3 + 1.5 * iqr; return sortedPrices.filter((price) =&gt; price &gt;= lowerBound &amp;&amp; price &lt;= upperBound); } /** * Get best orders (lowest sell / highest buy) * @param {Array&lt;Order&gt;} orders - Array of orders * @param {Object} options - Options * @param {number} [options.limit=5] - Number of orders to return * @param {boolean} [options.onlineOnly=true] - Only online users * @returns {Object} { buy: Order[], sell: Order[] } */ export function getBestOrders(orders, options = {}) { const { limit = 5, onlineOnly = true } = options; // Filter online if requested let filtered = orders; if (onlineOnly) { filtered = orders.filter((o) =&gt; o.isUserOnline()); } // Separate buy and sell orders const buyOrders = filtered.filter((o) =&gt; o.isBuyOrder()).sort((a, b) =&gt; b.platinum - a.platinum); const sellOrders = filtered.filter((o) =&gt; o.isSellOrder()).sort((a, b) =&gt; a.platinum - b.platinum); return { buy: buyOrders.slice(0, limit), sell: sellOrders.slice(0, limit), }; } /** * Format price range string * @param {Object} stats - Statistics object * @returns {string} */ export function formatPriceRange(stats) { if (stats.orderCount === 0) { return 'No orders found'; } if (stats.min === stats.max) { return `${stats.min}p`; } return `${stats.min}p - ${stats.max}p (median: ${stats.median}p)`; } /** * Format statistics for display * @param {Object} stats - Statistics object * @param {string} type - Order type ('buy' or 'sell') * @returns {string} */ export function formatStatistics(stats, type = 'sell') { const action = type === 'sell' ? 'Sellers' : 'Buyers'; if (stats.orderCount === 0) { return `No ${action.toLowerCase()} found`; } return [ `**${action}:** ${stats.orderCount} orders (${stats.volume} items)`, `**Median:** ${stats.median}p`, `**Range:** ${stats.min}p - ${stats.max}p`, `**Average:** ${stats.avg}p`, ].join('\\n'); } √ó Search results Close "},"market_v2_MarketFetcherV2.js.html":{"id":"market_v2_MarketFetcherV2.js.html","title":"Source: market/v2/MarketFetcherV2.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/MarketFetcherV2.js /** * Warframe Market API v2 Client * Main entry point for interacting with the Warframe Market API v2 */ import HttpClient from './utils/http.js'; import VersionedCache from './utils/cache.js'; import Item from './models/Item.js'; import Order from './models/Order.js'; import Summary from './models/Summary.js'; import { calculateStatistics, getBestOrders, formatPriceRange, formatStatistics } from './utils/statistics.js'; import { normalizeLanguage } from './utils/i18n.js'; import { PLATFORMS, SHORT_CACHE_TTL, API_BASE_URL } from './constants.js'; export default class MarketFetcherV2 { // Private fields #http; #cache; #ordersCache; #ordersCacheMaxSize; /** * @param {Object} options - Fetcher options * @param {string} [options.locale='en'] - Default language * @param {number} [options.timeout=5000] - Request timeout in ms * @param {Object} [options.logger] - Logger instance * @param {number} [options.cacheSize=100] - Cache size * @param {number} [options.cacheTTL] - Cache TTL in ms */ constructor(options = {}) { this.locale = normalizeLanguage(options.locale || 'en'); this.logger = options.logger || console; this.#ordersCacheMaxSize = options.ordersCacheSize || 50; this.#http = new HttpClient({ baseURL: options.baseURL || API_BASE_URL, locale: this.locale, timeout: options.timeout, logger: this.logger, }); this.#cache = new VersionedCache({ maxSize: options.cacheSize || 100, ttl: options.cacheTTL, }); // Short-lived cache for orders (1 minute) this.#ordersCache = new Map(); } // ========================================================================== // ITEMS // ========================================================================== /** * Get list of all tradable items * @returns {Promise&lt;Item[]&gt;} */ async getItems() { return this.#cache.get('items', 'items', async () =&gt; { const data = await this.#http.get('/items', { locale: this.locale }); return data.map((item) =&gt; new Item(item, this.locale)); }); } /** * Get item by slug * @param {string} slug - Item slug * @returns {Promise&lt;Item&gt;} */ async getItemBySlug(slug) { const cacheKey = `item_${slug}`; return this.#cache.get(cacheKey, 'items', async () =&gt; { const data = await this.#http.get(`/item/${slug}`, { locale: this.locale }); return new Item(data, this.locale); }); } /** * Get all items in a set * @param {string} slug - Item slug * @returns {Promise&lt;{id: string, items: Item[]}&gt;} */ async getItemSet(slug) { const cacheKey = `item_set_${slug}`; return this.#cache.get(cacheKey, 'items', async () =&gt; { const data = await this.#http.get(`/item/${slug}/set`, { locale: this.locale }); return { id: data.id, items: data.items.map((item) =&gt; new Item(item, this.locale)), }; }); } // ========================================================================== // ORDERS // ========================================================================== /** * Get top orders for an item (RECOMMENDED for price checks) * @param {string} slug - Item slug * @param {Object} options - Options * @param {string} options.platform - Platform (pc, ps4, xbox, switch) * @param {number} [options.rank] - Filter by rank * @param {number} [options.rankLt] - Filter by rank less than * @param {number} [options.charges] - Filter by charges * @param {number} [options.chargesLt] - Filter by charges less than * @param {number} [options.amberStars] - Filter by amber stars * @param {number} [options.amberStarsLt] - Filter by amber stars less than * @param {number} [options.cyanStars] - Filter by cyan stars * @param {number} [options.cyanStarsLt] - Filter by cyan stars less than * @param {string} [options.subtype] - Filter by subtype * @returns {Promise&lt;{buy: Order[], sell: Order[]}&gt;} */ async getTopOrders(slug, options = {}) { const { platform, ...filters } = options; if (!platform) { throw new Error('Platform is required'); } const cacheKey = `top_orders_${slug}_${platform}_${this.#stableStringify(filters)}`; // Check short-lived cache const cached = this.#getOrdersFromCache(cacheKey); if (cached) return cached; const data = await this.#http.get(`/orders/item/${slug}/top`, { platform, query: filters, }); const result = { buy: data.buy.map((order) =&gt; new Order(order)), sell: data.sell.map((order) =&gt; new Order(order)), }; this.#setOrdersCache(cacheKey, result); return result; } /** * Get all orders for an item * @param {string} slug - Item slug * @param {string} platform - Platform (pc, ps4, xbox, switch) * @returns {Promise&lt;Order[]&gt;} */ async getAllOrders(slug, platform) { if (!platform) { throw new Error('Platform is required'); } const cacheKey = `all_orders_${slug}_${platform}`; // Check short-lived cache const cached = this.#getOrdersFromCache(cacheKey); if (cached) return cached; const data = await this.#http.get(`/orders/item/${slug}`, { platform }); const result = data.map((order) =&gt; new Order(order)); this.#setOrdersCache(cacheKey, result); return result; } /** * Get recent orders (last 4 hours) * @param {string} platform - Platform (pc, ps4, xbox, switch) * @returns {Promise&lt;Order[]&gt;} */ async getRecentOrders(platform) { if (!platform) { throw new Error('Platform is required'); } const cacheKey = `recent_orders_${platform}`; // Check short-lived cache const cached = this.#getOrdersFromCache(cacheKey); if (cached) return cached; const data = await this.#http.get('/orders/recent', { platform }); const result = data.map((order) =&gt; new Order(order)); this.#setOrdersCache(cacheKey, result); return result; } // ========================================================================== // STATISTICS (Client-side calculation) // ========================================================================== /** * Calculate statistics from orders * @param {Order[]} orders - Orders array * @param {Object} options - Calculation options * @returns {Object} Statistics */ calculateStatistics(orders, options = {}) { return calculateStatistics(orders, options); } /** * Get best orders (sorted) * @param {Order[]} orders - Orders array * @param {Object} options - Options * @returns {{buy: Order[], sell: Order[]}} */ getBestOrders(orders, options = {}) { return getBestOrders(orders, options); } /** * Format price range string * @param {Object} stats - Statistics object * @returns {string} */ formatPriceRange(stats) { return formatPriceRange(stats); } /** * Format statistics for display * @param {Object} stats - Statistics object * @param {string} type - Order type * @returns {string} */ formatStatistics(stats, type) { return formatStatistics(stats, type); } // ========================================================================== // SEARCH / QUERY (v1 compatibility) // ========================================================================== /** * Query market for item (fuzzy search) * @param {string} query - Search query * @param {Object} options - Options * @param {string} options.platform - Platform * @param {function} [options.successfulQuery] - Callback for successful query * @returns {Promise&lt;Object&gt;} Query results with statistics */ async queryMarket(query, options = {}) { const { platform, successfulQuery } = options; if (!platform) { throw new Error('Platform is required'); } // Search for item const items = await this.getItems(); const normalizedQuery = query.toLowerCase().trim(); // Fuzzy search const matches = items.filter((item) =&gt; { const name = item.name.toLowerCase(); const slug = item.slug.toLowerCase(); return name.includes(normalizedQuery) || slug.includes(normalizedQuery); }); if (matches.length === 0) { throw new Error(`No items found for query: ${query}`); } // Use first match const item = matches[0]; // Get top orders for the item const topOrders = await this.getTopOrders(item.slug, { platform }); // Calculate statistics const sellStats = this.calculateStatistics(topOrders.sell, { type: 'sell', onlineOnly: true, }); const buyStats = this.calculateStatistics(topOrders.buy, { type: 'buy', onlineOnly: true, }); // Call success callback if provided if (successfulQuery &amp;&amp; typeof successfulQuery === 'function') { successfulQuery(); } // Create Summary object for v1 compatibility const summary = new Summary(item, topOrders, { sell: sellStats, buy: buyStats, }); // Return array of summaries (v1 compatibility) return [summary]; } /** * Price check query (v1 compatibility method) * @param {string} query - Search query * @param {string} platform - Platform * @returns {Promise&lt;Object&gt;} */ async priceCheckQuery(query, platform) { return this.queryMarket(query, { platform }); } // ========================================================================== // CACHE MANAGEMENT // ========================================================================== /** * Get from short-lived orders cache * @param {string} key - Cache key * @returns {*|null} * @private */ #getOrdersFromCache(key) { const cached = this.#ordersCache.get(key); if (!cached) return null; // Check TTL (1 minute for orders) if (Date.now() - cached.timestamp &gt; SHORT_CACHE_TTL) { this.#ordersCache.delete(key); return null; } return cached.value; } /** * Set short-lived orders cache * @param {string} key - Cache key * @param {*} value - Value to cache * @private */ #setOrdersCache(key, value) { // Evict oldest entries if at capacity if (this.#ordersCache.size &gt;= this.#ordersCacheMaxSize) { const oldestKey = this.#ordersCache.keys().next().value; this.#ordersCache.delete(oldestKey); } this.#ordersCache.set(key, { value, timestamp: Date.now(), }); } /** * Clear all caches */ clearCache() { this.#cache.clear(); this.#ordersCache.clear(); } /** * Check API versions * @returns {Promise&lt;Object&gt;} */ async checkVersions() { return this.#cache.checkVersions(); } /** * Stable stringify for cache keys (sorts object keys recursively) * @param {*} value - Value to stringify * @returns {string} Deterministic JSON string * @private */ #stableStringify(value) { if (value === null || value === undefined) { return JSON.stringify(value); } if (typeof value !== 'object') { return JSON.stringify(value); } if (Array.isArray(value)) { return `[${value.map((item) =&gt; this.#stableStringify(item)).join(',')}]`; } // Sort object keys and recursively stringify const sortedKeys = Object.keys(value).sort(); const pairs = sortedKeys.map((key) =&gt; `${JSON.stringify(key)}:${this.#stableStringify(value[key])}`); return `{${pairs.join(',')}}`; } // ========================================================================== // UTILITY // ========================================================================== /** * Normalize platform * @param {string} platform - Platform alias * @returns {string} Normalized platform */ normalizePlatform(platform) { return PLATFORMS[platform?.toLowerCase()] || platform; } /** * Set locale * @param {string} locale - Language code */ setLocale(locale) { this.locale = normalizeLanguage(locale); this.#http.setLocale(locale); } /** * Stop and cleanup (clears all caches) */ stop() { this.clearCache(); } } √ó Search results Close "},"market_v2_utils_cache.js.html":{"id":"market_v2_utils_cache.js.html","title":"Source: market/v2/utils/cache.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/utils/cache.js import { API_BASE_URL, VERSION_CHECK_INTERVAL, CACHE_TTL } from '../constants.js'; /** * Version-based cache system for Warframe Market API v2 * Uses version hashes from /v2/versions endpoint to invalidate cache */ export default class VersionedCache { #cache; #versions; #lastVersionCheck; constructor({ maxSize = 100, ttl = CACHE_TTL } = {}) { this.#cache = new Map(); this.maxSize = maxSize; this.ttl = ttl; this.#versions = undefined; this.#lastVersionCheck = undefined; } /** * Get item from cache or fetch it * @param {string} key - Cache key * @param {string} collection - Collection name (items, rivens, etc.) * @param {function} fetchFn - Function to fetch data if cache miss * @returns {Promise&lt;*&gt;} */ async get(key, collection, fetchFn) { // Check if we should refresh based on version if (collection &amp;&amp; (await this.shouldRefresh(collection))) { return this.refresh(key, collection, fetchFn); } // Try to get from cache const cached = this.#get(key); if (cached !== undefined) { return cached; } // Cache miss - fetch and store const data = await fetchFn(); this.set(key, data, collection); return data; } /** * Set item in cache * @param {string} key - Cache key * @param {*} value - Value to cache * @param {string} [collection] - Collection name for version tracking */ set(key, value, collection) { // LRU eviction if cache is full if (this.#cache.size &gt;= this.maxSize) { const firstKey = this.#cache.keys().next().value; this.#cache.delete(firstKey); } this.#cache.set(key, { value, timestamp: Date.now(), collection, }); // Store collection version if provided if (collection &amp;&amp; this.#versions) { const versionKey = `_version_${collection}`; const collectionVersion = this.#versions.data?.collections?.[collection]; if (collectionVersion) { this.#cache.set(versionKey, { value: collectionVersion, timestamp: Date.now(), }); } } } /** * Get item from cache (internal) * @param {string} key - Cache key * @returns {*|undefined} * @private */ #get(key) { const cached = this.#cache.get(key); if (!cached) return undefined; // Check TTL if (Date.now() - cached.timestamp &gt; this.ttl) { this.#cache.delete(key); return undefined; } return cached.value; } /** * Check if collection should be refreshed * @param {string} collection - Collection name * @returns {Promise&lt;boolean&gt;} */ async shouldRefresh(collection) { try { const currentVersions = await this.checkVersions(); const cachedVersion = this.#get(`_version_${collection}`); const serverVersion = currentVersions.data?.collections?.[collection]; return serverVersion &amp;&amp; cachedVersion !== serverVersion; } catch (error) { // If version check fails, don't force refresh return false; } } /** * Refresh cache entry * @param {string} key - Cache key * @param {string} collection - Collection name * @param {function} fetchFn - Function to fetch fresh data * @returns {Promise&lt;*&gt;} */ async refresh(key, collection, fetchFn) { const data = await fetchFn(); this.set(key, data, collection); return data; } /** * Check versions from server * @returns {Promise&lt;Object&gt;} */ async checkVersions() { // Check every VERSION_CHECK_INTERVAL (5 minutes) if (this.#versions &amp;&amp; this.#lastVersionCheck &amp;&amp; Date.now() - this.#lastVersionCheck &lt; VERSION_CHECK_INTERVAL) { return this.#versions; } try { const response = await fetch(`${API_BASE_URL}/versions`); if (!response.ok) { throw new Error(`Version check failed: ${response.status}`); } this.#versions = await response.json(); this.#lastVersionCheck = Date.now(); return this.#versions; } catch (error) { // If fetch fails and we have cached versions, return them if (this.#versions) { return this.#versions; } throw error; } } /** * Clear entire cache */ clear() { this.#cache.clear(); this.#versions = undefined; this.#lastVersionCheck = undefined; } /** * Delete specific key from cache * @param {string} key - Cache key */ delete(key) { this.#cache.delete(key); } /** * Get cache size * @returns {number} */ size() { return this.#cache.size; } /** * Check if key exists in cache (and is valid) * @param {string} key - Cache key * @returns {boolean} */ has(key) { return this.#get(key) !== undefined; } } √ó Search results Close "},"market_v2_utils_i18n.js.html":{"id":"market_v2_utils_i18n.js.html","title":"Source: market/v2/utils/i18n.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/utils/i18n.js /** * i18n helper utilities */ import { LANGUAGES } from '../constants.js'; /** * Normalize language code * @param {string} lang - Language code * @returns {string} Normalized language code */ export function normalizeLanguage(lang) { if (!lang) return 'en'; const normalized = lang.toLowerCase().trim(); return LANGUAGES[normalized] || 'en'; } /** * Extract localized data from i18n object * @param {Object} i18n - i18n object * @param {string} locale - Preferred locale * @returns {Object} Localized data */ export function extractLocalized(i18n, locale = 'en') { if (!i18n) return {}; return i18n[locale] || i18n.en || {}; } /** * Get field from i18n object with fallback * @param {Object} i18n - i18n object * @param {string} field - Field name * @param {string} locale - Preferred locale * @param {*} defaultValue - Default value if not found * @returns {*} */ export function getLocalizedField(i18n, field, locale = 'en', defaultValue = null) { const localized = extractLocalized(i18n, locale); return localized[field] ?? defaultValue; } √ó Search results Close "},"market_v2_utils_http.js.html":{"id":"market_v2_utils_http.js.html","title":"Source: market/v2/utils/http.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/utils/http.js /** * HTTP client for Warframe Market API v2 */ import { API_BASE_URL, DEFAULT_TIMEOUT, PLATFORMS } from '../constants.js'; import { normalizeLanguage } from './i18n.js'; /** * Make HTTP request with timeout * @param {string} url - URL to fetch * @param {Object} options - Fetch options * @param {number} timeout - Timeout in milliseconds * @returns {Promise&lt;Response&gt;} */ async function fetchWithTimeout(url, options = {}, timeout = DEFAULT_TIMEOUT) { const controller = new AbortController(); const timeoutId = setTimeout(() =&gt; controller.abort(), timeout); try { const response = await fetch(url, { ...options, signal: controller.signal, }); clearTimeout(timeoutId); return response; } catch (error) { clearTimeout(timeoutId); if (error.name === 'AbortError') { throw new Error(`Request timeout after ${timeout}ms`); } throw error; } } /** * HTTP Client for Warframe Market API v2 */ export default class HttpClient { #baseURL; #timeout; #locale; #logger; /** * @param {Object} options - Client options * @param {string} [options.baseURL] - Base URL for API * @param {number} [options.timeout] - Request timeout in ms * @param {string} [options.locale] - Default language * @param {Object} [options.logger] - Logger instance */ constructor(options = {}) { // Ensure baseURL ends with / let baseURL = options.baseURL || API_BASE_URL; if (!baseURL.endsWith('/')) { baseURL += '/'; } this.#baseURL = baseURL; this.#timeout = options.timeout || DEFAULT_TIMEOUT; this.#locale = normalizeLanguage(options.locale || 'en'); this.#logger = options.logger || console; } /** * Make GET request * @param {string} path - API path * @param {Object} options - Request options * @param {string} [options.platform] - Platform header * @param {string} [options.locale] - Language header * @param {Object} [options.query] - Query parameters * @returns {Promise&lt;Object&gt;} */ async get(path, options = {}) { const url = this.#buildUrl(path, options.query); const headers = this.#buildHeaders(options); this.#logger.debug(`[v2] GET ${url}`); try { const response = await fetchWithTimeout(url, { headers }, this.#timeout); if (!response.ok) { throw await this.#handleError(response); } const data = await response.json(); return this.#unwrapResponse(data); } catch (error) { this.#logger.error(`HTTP GET ${path} failed:`, error.message); throw error; } } /** * Make POST request * @param {string} path - API path * @param {Object} body - Request body * @param {Object} options - Request options * @returns {Promise&lt;Object&gt;} */ async post(path, body, options = {}) { const url = this.#buildUrl(path); const headers = { ...this.#buildHeaders(options), 'Content-Type': 'application/json', }; try { const response = await fetchWithTimeout( url, { method: 'POST', headers, body: JSON.stringify(body), }, this.#timeout ); if (!response.ok) { throw await this.#handleError(response); } const data = await response.json(); return this.#unwrapResponse(data); } catch (error) { this.#logger.error(`HTTP POST ${path} failed:`, error.message); throw error; } } /** * Build full URL with query parameters * @param {string} path - API path * @param {Object} [query] - Query parameters * @returns {string} * @private */ #buildUrl(path, query) { // Remove leading slash from path if present const cleanPath = path.startsWith('/') ? path.substring(1) : path; const url = new URL(cleanPath, this.#baseURL); if (query) { Object.entries(query).forEach(([key, value]) =&gt; { if (value !== undefined &amp;&amp; value !== null) { url.searchParams.append(key, value); } }); } return url.toString(); } /** * Build request headers * @param {Object} options - Options * @returns {Object} * @private */ #buildHeaders(options = {}) { const headers = { Accept: 'application/json', }; // Add language header const locale = options.locale || this.#locale; if (locale) { headers.Language = locale; } // Add platform header if provided if (options.platform) { const normalizedPlatform = PLATFORMS[options.platform.toLowerCase()] || options.platform; headers.Platform = normalizedPlatform; } // Add authorization header if provided if (options.token) { headers.Authorization = `Bearer ${options.token}`; } // Add custom headers if (options.headers) { Object.assign(headers, options.headers); } return headers; } /** * Handle HTTP error response * @param {Response} response - Response object * @returns {Promise&lt;Error&gt;} * @private */ async #handleError(response) { let errorMessage = `HTTP ${response.status}: ${response.statusText}`; try { const data = await response.json(); if (data.error &amp;&amp; data.error.message) { errorMessage = data.error.message; } } catch { // If JSON parsing fails, use default error message } const error = new Error(errorMessage); error.status = response.status; error.statusText = response.statusText; return error; } /** * Unwrap API response * @param {Object} data - Response data * @returns {*} * @private */ #unwrapResponse(data) { // v2 API wraps responses in { apiVersion, data, error } if (data.error) { const error = new Error(data.error.message || 'API Error'); error.code = data.error.code; throw error; } return data.data; } /** * Set default locale * @param {string} locale - Language code */ setLocale(locale) { this.#locale = normalizeLanguage(locale); } /** * Set timeout * @param {number} timeout - Timeout in milliseconds */ setTimeout(timeout) { this.#timeout = timeout; } } √ó Search results Close "},"market_v2_models_Item.js.html":{"id":"market_v2_models_Item.js.html","title":"Source: market/v2/models/Item.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/models/Item.js /** * Item model for Warframe Market API v2 * Represents a tradable item with full metadata and i18n support */ export default class Item { /** * @param {Object} data - Raw item data from API * @param {string} locale - Language code for i18n */ constructor(data, locale = 'en') { this.id = data.id; this.slug = data.slug; this.gameRef = data.gameRef; this.tags = data.tags || []; // Set relationships this.setRoot = data.setRoot; this.setParts = data.setParts || []; this.quantityInSet = data.quantityInSet; // Trading properties this.rarity = data.rarity; this.bulkTradable = data.bulkTradable || false; this.subtypes = data.subtypes || []; this.tradable = data.tradable; this.vaulted = data.vaulted; // Progression this.maxRank = data.maxRank; this.maxCharges = data.maxCharges; this.maxAmberStars = data.maxAmberStars; this.maxCyanStars = data.maxCyanStars; // Economy this.ducats = data.ducats; this.vosfor = data.vosfor; this.tradingTax = data.tradingTax; this.baseEndo = data.baseEndo; this.endoMultiplier = data.endoMultiplier; this.reqMasteryRank = data.reqMasteryRank; // i18n data this.i18n = data.i18n || {}; this.locale = locale; // Extract localized fields for convenience const localizedData = this.i18n[locale] || this.i18n.en || {}; this.name = localizedData.name || this.slug; this.description = localizedData.description; this.wikiLink = localizedData.wikiLink; this.icon = localizedData.icon; this.thumb = localizedData.thumb; this.subIcon = localizedData.subIcon; // Type marker this.type = 'market-v2'; } /** * Get localized field * @param {string} field - Field name * @param {string} [lang] - Language code (defaults to instance locale) * @returns {*} Localized value */ getLocalized(field, lang) { const locale = lang || this.locale; return this.i18n[locale]?.[field] || this.i18n.en?.[field]; } /** * Get full icon URL * @param {string} [baseUrl='https://warframe.market/static/assets/'] - Base URL for assets * @returns {string} */ getIconUrl(baseUrl = 'https://warframe.market/static/assets/') { return this.icon ? `${baseUrl}${this.icon}` : null; } /** * Get full thumbnail URL * @param {string} [baseUrl='https://warframe.market/static/assets/'] - Base URL for assets * @returns {string} */ getThumbUrl(baseUrl = 'https://warframe.market/static/assets/') { return this.thumb ? `${baseUrl}${this.thumb}` : null; } /** * Check if item is part of a set * @returns {boolean} */ isPartOfSet() { return this.setParts &amp;&amp; this.setParts.length &gt; 0; } /** * Check if item is vaulted * @returns {boolean} */ isVaulted() { return this.vaulted === true; } /** * Convert to JSON * @returns {Object} */ toJSON() { return { id: this.id, slug: this.slug, name: this.name, thumb: this.thumb, icon: this.icon, tradingTax: this.tradingTax, ducats: this.ducats, vosfor: this.vosfor, masteryLevel: this.reqMasteryRank, tradable: this.tradable, vaulted: this.vaulted, wikiUrl: this.wikiLink, description: this.description, tags: this.tags, type: this.type, }; } /** * Convert to string representation * @returns {string} */ toString() { return `${this.name} [${this.slug}]`; } } √ó Search results Close "},"market_v2_models_Summary.js.html":{"id":"market_v2_models_Summary.js.html","title":"Source: market/v2/models/Summary.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: market/v2/models/Summary.js /** * Summary model for v2 API * Compatible with v1 Summary but with v2 data structures */ import { ASSETS_BASE_URL } from '../constants.js'; export default class SummaryV2 { /** * Create a summary from v2 Item and Order data * @param {Item} item - Item object * @param {Object} orders - Orders object with { buy, sell } * @param {Object} statistics - Statistics object with { buy, sell } */ constructor(item, orders, statistics) { // Basic item info this.name = item.name; this.slug = item.slug; this.thumbnail = item.getThumbUrl(ASSETS_BASE_URL); this.partThumb = item.subIcon ? `${ASSETS_BASE_URL}${item.subIcon}` : this.thumbnail; this.icon = item.getIconUrl(ASSETS_BASE_URL); // Item metadata this.tradingTax = item.tradingTax || 0; this.ducats = item.ducats || 0; this.vosfor = item.vosfor || 0; this.masteryLevel = item.reqMasteryRank; this.tradable = item.tradable; this.vaulted = item.vaulted; // Links and descriptions this.wikiUrl = item.wikiLink; this.description = item.description || ''; this.codex = this.description; // v1 compatibility this.url = `https://warframe.market/items/${item.slug}`; // Tags this.tags = item.tags || []; // Prices and statistics (from v2 orders) this.prices = { soldCount: statistics.sell.orderCount, soldPrice: statistics.sell.median, minimum: statistics.sell.min, maximum: statistics.sell.max, average: statistics.sell.avg, volume: statistics.sell.volume, }; // Store full orders and statistics this.orders = orders; this.statistics = statistics; // Type marker this.type = 'market-v2'; } /** * Get best online sellers * @param {number} limit - Number of sellers to return * @returns {Array&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt;} */ getOnlineSellers(limit = 5) { return this.orders.sell .filter((order) =&gt; order.isUserOnline()) .slice(0, limit) .map((order) =&gt; ({ ingameName: order.user.ingameName, platinum: order.platinum, quantity: order.quantity, status: order.user.status, activity: order.user.getActivityDescription(), reputation: order.user.reputation, platform: order.user.platform, crossplay: order.user.crossplay, })); } /** * Get best online buyers * @param {number} limit - Number of buyers to return * @returns {Array&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt;} */ getOnlineBuyers(limit = 5) { return this.orders.buy .filter((order) =&gt; order.isUserOnline()) .slice(0, limit) .map((order) =&gt; ({ ingameName: order.user.ingameName, platinum: order.platinum, quantity: order.quantity, status: order.user.status, activity: order.user.getActivityDescription(), reputation: order.user.reputation, platform: order.user.platform, crossplay: order.user.crossplay, })); } /** * String representation (v1 compatible) * @param {string} opt - Option: 'codex', 'item', 'location', 'all' * @returns {string} */ toString(opt = 'item') { let value = `**${this.name}**\\n`; if (opt === 'codex' || opt === 'all') { value += `\\`\\`\\`\\nCodex: ${this.codex}\\n\\`\\`\\`\\n`; } if (opt === 'item' || opt === 'all') { value += '```\\n'; if (this.masteryLevel) { value += `Requires: MR ${this.masteryLevel} | `; } value += `Tax: ${this.tradingTax}cr\\n`; value += `Item is ${this.tradable ? '' : 'not '}tradable`; if (this.vaulted) { value += ' (VAULTED)'; } value += '\\n\\n'; // Sell statistics value += `${this.prices.soldCount} sellers (${this.prices.volume} items)\\n`; value += `Median: ${this.prices.soldPrice}p | `; value += `Range: ${this.prices.minimum}p - ${this.prices.maximum}p\\n`; // Buy statistics (if available) if (this.statistics.buy.orderCount &gt; 0) { value += `\\n${this.statistics.buy.orderCount} buyers\\n`; value += `Median: ${this.statistics.buy.median}p | `; value += `Range: ${this.statistics.buy.min}p - ${this.statistics.buy.max}p\\n`; } value += '```\\n'; } if (opt === 'traders' || opt === 'all') { const sellers = this.getOnlineSellers(3); if (sellers.length &gt; 0) { value += '\\n**Online Sellers:**\\n'; sellers.forEach((seller) =&gt; { const statusEmoji = seller.status === 'ingame' ? 'üéÆ' : 'üü¢'; const activity = seller.activity ? ` (${seller.activity})` : ''; value += `${statusEmoji} ${seller.ingameName} - ${seller.platinum}p x${seller.quantity}${activity}\\n`; }); } } value += `\\n${this.wikiUrl || this.url}`; return value; } /** * Padding helper (v1 compatibility) * @param {string} str - String to pad * @param {number} length - Target length * @param {string} character - Padding character * @returns {string} */ pad(str, length = 10, character = ' ') { return str.padEnd(length, character); } } √ó Search results Close "},"Settings.js.html":{"id":"Settings.js.html","title":"Source: Settings.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: Settings.js /** * Settings storage for nexus query * @type {Settings} * @property {number} maxCacheLength - maximum length to store cached data * @property {Object} urls - URL list for nexus stats */ export default class Settings { constructor() { this.urls = { market: process.env.MARKET_URL_OVERRIDE || 'https://api.warframe.market/v1/items', marketAssets: process.env.MARKET_ASSETS_URL_OVERRIDE || 'https://warframe.market/static/assets/', }; this.platforms = { pc: 'pc', ps4: 'ps4', playstation: 'ps4', xbone: 'xb1', xbox: 'xb1', xb1: 'xb1', swi: 'switch', switch: 'switch', ns: 'switch', market: { pc: 'pc', ps4: 'ps4', playstation: 'ps4', xbone: 'xbox', xbox: 'xbox', xb1: 'xbox', swi: 'switch', switch: 'switch', ns: 'switch', }, }; this.timeouts = { market: process.env.MARKET_TIMEOUT || 3000, }; this.defaultString = 'Operator, there is no such item pricecheck available.'; } /** * Look up real platform for platform alias * @param {string} platformAlias Alias of platform * @param {boolean} market Whether or not to use market-specific aliases * @returns {string} Real platform identifier */ lookupAlias(platformAlias, market = false) { return market ? this.platforms.market[platformAlias.toLowerCase()] : this.platforms[platformAlias.toLowerCase()]; } } √ó Search results Close "},"promiseTimeout.js.html":{"id":"promiseTimeout.js.html","title":"Source: promiseTimeout.js","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Source: promiseTimeout.js /** * Copied from https://italonascimento.github.io/applying-a-timeout-to-your-promises * Apply a timeout to your promise * @param {number} ms Milliseconds to time out after * @param {Promise} promise Promise to time out * @returns {Promise} Pending promise that works or rejects with an error */ export default (ms, promise) =&gt; { // Create a promise that rejects in &lt;ms&gt; milliseconds const timeout = new Promise((resolve, reject) =&gt; { const id = setTimeout(() =&gt; { clearTimeout(id); reject(new Error(`Timed out in ${ms}ms.`)); }, ms); }); // Returns a race between our timeout and the passed in promise return Promise.race([promise, timeout]); }; √ó Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Global Members &lt;constant&gt; API_BASE_URL Constants for Warframe Market API v2 Source: market/v2/constants.js, line 5 Methods attachmentFromComponents(components, query [, platform]) Build an attachment from the provided components Parameters: Name Type Argument Default Description components Array.&lt;MarketComponent&gt; collected array of components with market data query string Search query that these components match platform string &lt;optional&gt; 'pc' Platform for the request, defaults to 'pc' Source: AttachmentCreator.js, line 149 Returns: Discord-ready attachment describing the item Type Object calculateMedian(sortedPrices) Calculate median of sorted array Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array Source: market/v2/utils/statistics.js, line 76 Returns: Type number calculatePercentile(sortedPrices, percentile) Calculate percentile of sorted array Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array percentile number Percentile (0-100) Source: market/v2/utils/statistics.js, line 94 Returns: Type number calculateStatistics(orders, options) Calculate statistics from orders Parameters: Name Type Description orders Array.&lt;Order&gt; Orders array options Object Calculation options Source: market/v2/MarketFetcherV2.js, line 200 Returns: Statistics Type Object calculateStatistics(orders, options) Calculate statistics from order list Parameters: Name Type Description orders Array.&lt;Order&gt; Array of orders options Object Calculation options Properties Name Type Argument Default Description type string &lt;optional&gt; 'sell' Order type ('buy' or 'sell') onlineOnly boolean &lt;optional&gt; true Only include online users includeOutliers boolean &lt;optional&gt; true Include price outliers Source: market/v2/utils/statistics.js, line 15 Returns: Statistics object Type Object &lt;async&gt; checkVersions() Check API versions Source: market/v2/MarketFetcherV2.js, line 361 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; checkVersions() Check versions from server Source: market/v2/utils/cache.js, line 131 Returns: Type Promise.&lt;Object&gt; clear() Clear entire cache Source: market/v2/utils/cache.js, line 159 clearCache() Clear all caches Source: market/v2/MarketFetcherV2.js, line 352 delete(key) Delete specific key from cache Parameters: Name Type Description key string Cache key Source: market/v2/utils/cache.js, line 169 extractLocalized(i18n, locale) Extract localized data from i18n object Parameters: Name Type Description i18n Object i18n object locale string Preferred locale Source: market/v2/utils/i18n.js, line 24 Returns: Localized data Type Object &lt;async&gt; fetchWithTimeout(url, options, timeout) Make HTTP request with timeout Parameters: Name Type Description url string URL to fetch options Object Fetch options timeout number Timeout in milliseconds Source: market/v2/utils/http.js, line 16 Returns: Type Promise.&lt;Response&gt; fieldValue(mComponent) Build a field from provided nexus &amp; market components (v1) Parameters: Name Type Description mComponent MarketComponent market component Source: AttachmentCreator.js, line 54 Returns: built field Type Object fieldValueV2(mComponent) Build a field from v2 market component with trader info Parameters: Name Type Description mComponent MarketComponent market component (v2) Source: AttachmentCreator.js, line 81 Returns: built field Type Object formatPriceRange(stats) Format price range string Parameters: Name Type Description stats Object Statistics object Source: market/v2/MarketFetcherV2.js, line 219 Returns: Type string formatPriceRange(stats) Format price range string Parameters: Name Type Description stats Object Statistics object Source: market/v2/utils/statistics.js, line 154 Returns: Type string formatStatistics(stats, type) Format statistics for display Parameters: Name Type Description stats Object Statistics object type string Order type Source: market/v2/MarketFetcherV2.js, line 229 Returns: Type string formatStatistics(stats, type) Format statistics for display Parameters: Name Type Description stats Object Statistics object type string Order type ('buy' or 'sell') Source: market/v2/utils/statistics.js, line 172 Returns: Type string &lt;async&gt; get(key, collection, fetchFn) Get item from cache or fetch it Parameters: Name Type Description key string Cache key collection string Collection name (items, rivens, etc.) fetchFn function Function to fetch data if cache miss Source: market/v2/utils/cache.js, line 27 Returns: Type Promise.&lt;*&gt; &lt;async&gt; get(path, options) Make GET request Parameters: Name Type Description path string API path options Object Request options Properties Name Type Argument Description platform string &lt;optional&gt; Platform header locale string &lt;optional&gt; Language header query Object &lt;optional&gt; Query parameters Source: market/v2/utils/http.js, line 73 Returns: Type Promise.&lt;Object&gt; getAgeHours() Get order age in hours Source: market/v2/models/Order.js, line 152 Returns: Type number &lt;async&gt; getAllOrders(slug, platform) Get all orders for an item Parameters: Name Type Description slug string Item slug platform string Platform (pc, ps4, xbox, switch) Source: market/v2/MarketFetcherV2.js, line 149 Returns: Type Promise.&lt;Array.&lt;Order&gt;&gt; getBestOrders(orders, options) Get best orders (sorted) Parameters: Name Type Description orders Array.&lt;Order&gt; Orders array options Object Options Source: market/v2/MarketFetcherV2.js, line 210 Returns: Type Object getBestOrders(orders, options) Get best orders (lowest sell / highest buy) Parameters: Name Type Description orders Array.&lt;Order&gt; Array of orders options Object Options Properties Name Type Argument Default Description limit number &lt;optional&gt; 5 Number of orders to return onlineOnly boolean &lt;optional&gt; true Only online users Source: market/v2/utils/statistics.js, line 129 Returns: { buy: Order[], sell: Order[] } Type Object getIconUrl( [baseUrl]) Get full icon URL Parameters: Name Type Argument Default Description baseUrl string &lt;optional&gt; 'https://warframe.market/static/assets/' Base URL for assets Source: market/v2/models/Item.js, line 75 Returns: Type string &lt;async&gt; getItemBySlug(slug) Get item by slug Parameters: Name Type Description slug string Item slug Source: market/v2/MarketFetcherV2.js, line 72 Returns: Type Promise.&lt;Item&gt; &lt;async&gt; getItemSet(slug) Get all items in a set Parameters: Name Type Description slug string Item slug Source: market/v2/MarketFetcherV2.js, line 85 Returns: Type Promise.&lt;{id: string, items: Array.&lt;Item&gt;}&gt; &lt;async&gt; getItems() Get list of all tradable items Source: market/v2/MarketFetcherV2.js, line 60 Returns: Type Promise.&lt;Array.&lt;Item&gt;&gt; getLocalized(field [, lang]) Get localized field Parameters: Name Type Argument Description field string Field name lang string &lt;optional&gt; Language code (defaults to instance locale) Source: market/v2/models/Item.js, line 65 Returns: Localized value Type * getLocalizedField(i18n, field, locale, defaultValue) Get field from i18n object with fallback Parameters: Name Type Description i18n Object i18n object field string Field name locale string Preferred locale defaultValue * Default value if not found Source: market/v2/utils/i18n.js, line 37 Returns: Type * getOnlineBuyers(limit) Get best online buyers Parameters: Name Type Default Description limit number 5 Number of buyers to return Source: market/v2/models/Summary.js, line 84 Returns: Type Array.&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt; getOnlineSellers(limit) Get best online sellers Parameters: Name Type Default Description limit number 5 Number of sellers to return Source: market/v2/models/Summary.js, line 63 Returns: Type Array.&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt; &lt;async&gt; getRecentOrders(platform) Get recent orders (last 4 hours) Parameters: Name Type Description platform string Platform (pc, ps4, xbox, switch) Source: market/v2/MarketFetcherV2.js, line 172 Returns: Type Promise.&lt;Array.&lt;Order&gt;&gt; getThumbUrl( [baseUrl]) Get full thumbnail URL Parameters: Name Type Argument Default Description baseUrl string &lt;optional&gt; 'https://warframe.market/static/assets/' Base URL for assets Source: market/v2/models/Item.js, line 84 Returns: Type string &lt;async&gt; getTopOrders(slug, options) Get top orders for an item (RECOMMENDED for price checks) Parameters: Name Type Description slug string Item slug options Object Options Properties Name Type Argument Description platform string Platform (pc, ps4, xbox, switch) rank number &lt;optional&gt; Filter by rank rankLt number &lt;optional&gt; Filter by rank less than charges number &lt;optional&gt; Filter by charges chargesLt number &lt;optional&gt; Filter by charges less than amberStars number &lt;optional&gt; Filter by amber stars amberStarsLt number &lt;optional&gt; Filter by amber stars less than cyanStars number &lt;optional&gt; Filter by cyan stars cyanStarsLt number &lt;optional&gt; Filter by cyan stars less than subtype string &lt;optional&gt; Filter by subtype Source: market/v2/MarketFetcherV2.js, line 116 Returns: Type Promise.&lt;{buy: Array.&lt;Order&gt;, sell: Array.&lt;Order&gt;}&gt; has(key) Check if key exists in cache (and is valid) Parameters: Name Type Description key string Cache key Source: market/v2/utils/cache.js, line 186 Returns: Type boolean isBuyOrder() Check if order is buy type Source: market/v2/models/Order.js, line 136 Returns: Type boolean isPartOfSet() Check if item is part of a set Source: market/v2/models/Item.js, line 92 Returns: Type boolean isSellOrder() Check if order is sell type Source: market/v2/models/Order.js, line 144 Returns: Type boolean isUserOnline() Check if order is from an online user Source: market/v2/models/Order.js, line 127 Returns: Type boolean isVaulted() Check if item is vaulted Source: market/v2/models/Item.js, line 100 Returns: Type boolean lookupAlias(platformAlias, market) Look up real platform for platform alias Parameters: Name Type Default Description platformAlias string Alias of platform market boolean false Whether or not to use market-specific aliases Source: Settings.js, line 50 Returns: Real platform identifier Type string normalizeLanguage(lang) Normalize language code Parameters: Name Type Description lang string Language code Source: market/v2/utils/i18n.js, line 12 Returns: Normalized language code Type string normalizePlatform(platform) Normalize platform Parameters: Name Type Description platform string Platform alias Source: market/v2/MarketFetcherV2.js, line 399 Returns: Normalized platform Type string pad(str, length, character) Padding helper (v1 compatibility) Parameters: Name Type Default Description str string String to pad length number 10 Target length character string Padding character Source: market/v2/models/Summary.js, line 162 Returns: Type string &lt;async&gt; post(path, body, options) Make POST request Parameters: Name Type Description path string API path body Object Request body options Object Request options Source: market/v2/utils/http.js, line 101 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; priceCheckQuery(query, platform) Price check query (v1 compatibility method) Parameters: Name Type Description query string Search query platform string Platform Source: market/v2/MarketFetcherV2.js, line 304 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; queryMarket(query, options) Query market for item (fuzzy search) Parameters: Name Type Description query string Search query options Object Options Properties Name Type Argument Description platform string Platform successfulQuery function &lt;optional&gt; Callback for successful query Source: market/v2/MarketFetcherV2.js, line 245 Returns: Query results with statistics Type Promise.&lt;Object&gt; &lt;async&gt; refresh(key, collection, fetchFn) Refresh cache entry Parameters: Name Type Description key string Cache key collection string Collection name fetchFn function Function to fetch fresh data Source: market/v2/utils/cache.js, line 121 Returns: Type Promise.&lt;*&gt; removeOutliers(sortedPrices) Remove outliers using IQR method Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array Source: market/v2/utils/statistics.js, line 111 Returns: Type Array.&lt;number&gt; safeRange(value1, value2) Calculate the safe value for a provided value Parameters: Name Type Description value1 string provided minimum value value2 string provided maximum value Source: AttachmentCreator.js, line 45 Returns: safe value Type string safeValue(value) Calculate the safe value for a provided value Parameters: Name Type Description value string provided value Source: AttachmentCreator.js, line 35 Returns: safe value Type string set(key, value [, collection]) Set item in cache Parameters: Name Type Argument Description key string Cache key value * Value to cache collection string &lt;optional&gt; Collection name for version tracking Source: market/v2/utils/cache.js, line 51 setLocale(locale) Set locale Parameters: Name Type Description locale string Language code Source: market/v2/MarketFetcherV2.js, line 407 setLocale(locale) Set default locale Parameters: Name Type Description locale string Language code Source: market/v2/utils/http.js, line 235 setTimeout(timeout) Set timeout Parameters: Name Type Description timeout number Timeout in milliseconds Source: market/v2/utils/http.js, line 243 &lt;async&gt; shouldRefresh(collection) Check if collection should be refreshed Parameters: Name Type Description collection string Collection name Source: market/v2/utils/cache.js, line 101 Returns: Type Promise.&lt;boolean&gt; size() Get cache size Source: market/v2/utils/cache.js, line 177 Returns: Type number stop() Stop and cleanup (clears all caches) Source: market/v2/MarketFetcherV2.js, line 415 toJSON() Convert to JSON Source: market/v2/models/Item.js, line 108 Returns: Type Object toJSON() Convert to JSON Source: market/v2/models/Order.js, line 161 Returns: Type Object toString() Convert to string representation Source: market/v2/models/Item.js, line 132 Returns: Type string toString() Convert to string representation Source: market/v2/models/Order.js, line 186 Returns: Type string toString(opt) String representation (v1 compatible) Parameters: Name Type Default Description opt string item Option: 'codex', 'item', 'location', 'all' Source: market/v2/models/Summary.js, line 105 Returns: Type string √ó Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Classes Classes OrderUser Members &lt;constant&gt; API_BASE_URL Constants for Warframe Market API v2 Source: market/v2/constants.js, line 5 Methods attachmentFromComponents(components, query [, platform]) Build an attachment from the provided components Parameters: Name Type Argument Default Description components Array.&lt;MarketComponent&gt; collected array of components with market data query string Search query that these components match platform string &lt;optional&gt; 'pc' Platform for the request, defaults to 'pc' Source: AttachmentCreator.js, line 149 Returns: Discord-ready attachment describing the item Type Object calculateMedian(sortedPrices) Calculate median of sorted array Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array Source: market/v2/utils/statistics.js, line 76 Returns: Type number calculatePercentile(sortedPrices, percentile) Calculate percentile of sorted array Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array percentile number Percentile (0-100) Source: market/v2/utils/statistics.js, line 94 Returns: Type number calculateStatistics(orders, options) Calculate statistics from orders Parameters: Name Type Description orders Array.&lt;Order&gt; Orders array options Object Calculation options Source: market/v2/MarketFetcherV2.js, line 200 Returns: Statistics Type Object calculateStatistics(orders, options) Calculate statistics from order list Parameters: Name Type Description orders Array.&lt;Order&gt; Array of orders options Object Calculation options Properties Name Type Argument Default Description type string &lt;optional&gt; 'sell' Order type ('buy' or 'sell') onlineOnly boolean &lt;optional&gt; true Only include online users includeOutliers boolean &lt;optional&gt; true Include price outliers Source: market/v2/utils/statistics.js, line 15 Returns: Statistics object Type Object &lt;async&gt; checkVersions() Check API versions Source: market/v2/MarketFetcherV2.js, line 361 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; checkVersions() Check versions from server Source: market/v2/utils/cache.js, line 131 Returns: Type Promise.&lt;Object&gt; clear() Clear entire cache Source: market/v2/utils/cache.js, line 159 clearCache() Clear all caches Source: market/v2/MarketFetcherV2.js, line 352 delete(key) Delete specific key from cache Parameters: Name Type Description key string Cache key Source: market/v2/utils/cache.js, line 169 extractLocalized(i18n, locale) Extract localized data from i18n object Parameters: Name Type Description i18n Object i18n object locale string Preferred locale Source: market/v2/utils/i18n.js, line 24 Returns: Localized data Type Object &lt;async&gt; fetchWithTimeout(url, options, timeout) Make HTTP request with timeout Parameters: Name Type Description url string URL to fetch options Object Fetch options timeout number Timeout in milliseconds Source: market/v2/utils/http.js, line 16 Returns: Type Promise.&lt;Response&gt; fieldValue(mComponent) Build a field from provided nexus &amp; market components (v1) Parameters: Name Type Description mComponent MarketComponent market component Source: AttachmentCreator.js, line 54 Returns: built field Type Object fieldValueV2(mComponent) Build a field from v2 market component with trader info Parameters: Name Type Description mComponent MarketComponent market component (v2) Source: AttachmentCreator.js, line 81 Returns: built field Type Object formatPriceRange(stats) Format price range string Parameters: Name Type Description stats Object Statistics object Source: market/v2/MarketFetcherV2.js, line 219 Returns: Type string formatPriceRange(stats) Format price range string Parameters: Name Type Description stats Object Statistics object Source: market/v2/utils/statistics.js, line 154 Returns: Type string formatStatistics(stats, type) Format statistics for display Parameters: Name Type Description stats Object Statistics object type string Order type Source: market/v2/MarketFetcherV2.js, line 229 Returns: Type string formatStatistics(stats, type) Format statistics for display Parameters: Name Type Description stats Object Statistics object type string Order type ('buy' or 'sell') Source: market/v2/utils/statistics.js, line 172 Returns: Type string &lt;async&gt; get(key, collection, fetchFn) Get item from cache or fetch it Parameters: Name Type Description key string Cache key collection string Collection name (items, rivens, etc.) fetchFn function Function to fetch data if cache miss Source: market/v2/utils/cache.js, line 27 Returns: Type Promise.&lt;*&gt; &lt;async&gt; get(path, options) Make GET request Parameters: Name Type Description path string API path options Object Request options Properties Name Type Argument Description platform string &lt;optional&gt; Platform header locale string &lt;optional&gt; Language header query Object &lt;optional&gt; Query parameters Source: market/v2/utils/http.js, line 73 Returns: Type Promise.&lt;Object&gt; getAgeHours() Get order age in hours Source: market/v2/models/Order.js, line 152 Returns: Type number &lt;async&gt; getAllOrders(slug, platform) Get all orders for an item Parameters: Name Type Description slug string Item slug platform string Platform (pc, ps4, xbox, switch) Source: market/v2/MarketFetcherV2.js, line 149 Returns: Type Promise.&lt;Array.&lt;Order&gt;&gt; getBestOrders(orders, options) Get best orders (sorted) Parameters: Name Type Description orders Array.&lt;Order&gt; Orders array options Object Options Source: market/v2/MarketFetcherV2.js, line 210 Returns: Type Object getBestOrders(orders, options) Get best orders (lowest sell / highest buy) Parameters: Name Type Description orders Array.&lt;Order&gt; Array of orders options Object Options Properties Name Type Argument Default Description limit number &lt;optional&gt; 5 Number of orders to return onlineOnly boolean &lt;optional&gt; true Only online users Source: market/v2/utils/statistics.js, line 129 Returns: { buy: Order[], sell: Order[] } Type Object getIconUrl( [baseUrl]) Get full icon URL Parameters: Name Type Argument Default Description baseUrl string &lt;optional&gt; 'https://warframe.market/static/assets/' Base URL for assets Source: market/v2/models/Item.js, line 75 Returns: Type string &lt;async&gt; getItemBySlug(slug) Get item by slug Parameters: Name Type Description slug string Item slug Source: market/v2/MarketFetcherV2.js, line 72 Returns: Type Promise.&lt;Item&gt; &lt;async&gt; getItemSet(slug) Get all items in a set Parameters: Name Type Description slug string Item slug Source: market/v2/MarketFetcherV2.js, line 85 Returns: Type Promise.&lt;{id: string, items: Array.&lt;Item&gt;}&gt; &lt;async&gt; getItems() Get list of all tradable items Source: market/v2/MarketFetcherV2.js, line 60 Returns: Type Promise.&lt;Array.&lt;Item&gt;&gt; getLocalized(field [, lang]) Get localized field Parameters: Name Type Argument Description field string Field name lang string &lt;optional&gt; Language code (defaults to instance locale) Source: market/v2/models/Item.js, line 65 Returns: Localized value Type * getLocalizedField(i18n, field, locale, defaultValue) Get field from i18n object with fallback Parameters: Name Type Description i18n Object i18n object field string Field name locale string Preferred locale defaultValue * Default value if not found Source: market/v2/utils/i18n.js, line 37 Returns: Type * getOnlineBuyers(limit) Get best online buyers Parameters: Name Type Default Description limit number 5 Number of buyers to return Source: market/v2/models/Summary.js, line 84 Returns: Type Array.&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt; getOnlineSellers(limit) Get best online sellers Parameters: Name Type Default Description limit number 5 Number of sellers to return Source: market/v2/models/Summary.js, line 63 Returns: Type Array.&lt;{ingameName: string, platinum: number, quantity: number, status: string, activity: string}&gt; &lt;async&gt; getRecentOrders(platform) Get recent orders (last 4 hours) Parameters: Name Type Description platform string Platform (pc, ps4, xbox, switch) Source: market/v2/MarketFetcherV2.js, line 172 Returns: Type Promise.&lt;Array.&lt;Order&gt;&gt; getThumbUrl( [baseUrl]) Get full thumbnail URL Parameters: Name Type Argument Default Description baseUrl string &lt;optional&gt; 'https://warframe.market/static/assets/' Base URL for assets Source: market/v2/models/Item.js, line 84 Returns: Type string &lt;async&gt; getTopOrders(slug, options) Get top orders for an item (RECOMMENDED for price checks) Parameters: Name Type Description slug string Item slug options Object Options Properties Name Type Argument Description platform string Platform (pc, ps4, xbox, switch) rank number &lt;optional&gt; Filter by rank rankLt number &lt;optional&gt; Filter by rank less than charges number &lt;optional&gt; Filter by charges chargesLt number &lt;optional&gt; Filter by charges less than amberStars number &lt;optional&gt; Filter by amber stars amberStarsLt number &lt;optional&gt; Filter by amber stars less than cyanStars number &lt;optional&gt; Filter by cyan stars cyanStarsLt number &lt;optional&gt; Filter by cyan stars less than subtype string &lt;optional&gt; Filter by subtype Source: market/v2/MarketFetcherV2.js, line 116 Returns: Type Promise.&lt;{buy: Array.&lt;Order&gt;, sell: Array.&lt;Order&gt;}&gt; has(key) Check if key exists in cache (and is valid) Parameters: Name Type Description key string Cache key Source: market/v2/utils/cache.js, line 186 Returns: Type boolean isBuyOrder() Check if order is buy type Source: market/v2/models/Order.js, line 136 Returns: Type boolean isPartOfSet() Check if item is part of a set Source: market/v2/models/Item.js, line 92 Returns: Type boolean isSellOrder() Check if order is sell type Source: market/v2/models/Order.js, line 144 Returns: Type boolean isUserOnline() Check if order is from an online user Source: market/v2/models/Order.js, line 127 Returns: Type boolean isVaulted() Check if item is vaulted Source: market/v2/models/Item.js, line 100 Returns: Type boolean lookupAlias(platformAlias, market) Look up real platform for platform alias Parameters: Name Type Default Description platformAlias string Alias of platform market boolean false Whether or not to use market-specific aliases Source: Settings.js, line 50 Returns: Real platform identifier Type string normalizeLanguage(lang) Normalize language code Parameters: Name Type Description lang string Language code Source: market/v2/utils/i18n.js, line 12 Returns: Normalized language code Type string normalizePlatform(platform) Normalize platform Parameters: Name Type Description platform string Platform alias Source: market/v2/MarketFetcherV2.js, line 399 Returns: Normalized platform Type string pad(str, length, character) Padding helper (v1 compatibility) Parameters: Name Type Default Description str string String to pad length number 10 Target length character string Padding character Source: market/v2/models/Summary.js, line 162 Returns: Type string &lt;async&gt; post(path, body, options) Make POST request Parameters: Name Type Description path string API path body Object Request body options Object Request options Source: market/v2/utils/http.js, line 101 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; priceCheckQuery(query, platform) Price check query (v1 compatibility method) Parameters: Name Type Description query string Search query platform string Platform Source: market/v2/MarketFetcherV2.js, line 304 Returns: Type Promise.&lt;Object&gt; &lt;async&gt; queryMarket(query, options) Query market for item (fuzzy search) Parameters: Name Type Description query string Search query options Object Options Properties Name Type Argument Description platform string Platform successfulQuery function &lt;optional&gt; Callback for successful query Source: market/v2/MarketFetcherV2.js, line 245 Returns: Query results with statistics Type Promise.&lt;Object&gt; &lt;async&gt; refresh(key, collection, fetchFn) Refresh cache entry Parameters: Name Type Description key string Cache key collection string Collection name fetchFn function Function to fetch fresh data Source: market/v2/utils/cache.js, line 121 Returns: Type Promise.&lt;*&gt; removeOutliers(sortedPrices) Remove outliers using IQR method Parameters: Name Type Description sortedPrices Array.&lt;number&gt; Sorted price array Source: market/v2/utils/statistics.js, line 111 Returns: Type Array.&lt;number&gt; safeRange(value1, value2) Calculate the safe value for a provided value Parameters: Name Type Description value1 string provided minimum value value2 string provided maximum value Source: AttachmentCreator.js, line 45 Returns: safe value Type string safeValue(value) Calculate the safe value for a provided value Parameters: Name Type Description value string provided value Source: AttachmentCreator.js, line 35 Returns: safe value Type string set(key, value [, collection]) Set item in cache Parameters: Name Type Argument Description key string Cache key value * Value to cache collection string &lt;optional&gt; Collection name for version tracking Source: market/v2/utils/cache.js, line 51 setLocale(locale) Set locale Parameters: Name Type Description locale string Language code Source: market/v2/MarketFetcherV2.js, line 407 setLocale(locale) Set default locale Parameters: Name Type Description locale string Language code Source: market/v2/utils/http.js, line 235 setTimeout(timeout) Set timeout Parameters: Name Type Description timeout number Timeout in milliseconds Source: market/v2/utils/http.js, line 243 &lt;async&gt; shouldRefresh(collection) Check if collection should be refreshed Parameters: Name Type Description collection string Collection name Source: market/v2/utils/cache.js, line 101 Returns: Type Promise.&lt;boolean&gt; size() Get cache size Source: market/v2/utils/cache.js, line 177 Returns: Type number stop() Stop and cleanup (clears all caches) Source: market/v2/MarketFetcherV2.js, line 415 toJSON() Convert to JSON Source: market/v2/models/Item.js, line 108 Returns: Type Object toJSON() Convert to JSON Source: market/v2/models/Order.js, line 161 Returns: Type Object toString() Convert to string representation Source: market/v2/models/Item.js, line 132 Returns: Type string toString() Convert to string representation Source: market/v2/models/Order.js, line 186 Returns: Type string toString(opt) String representation (v1 compatible) Parameters: Name Type Default Description opt string item Option: 'codex', 'item', 'location', 'all' Source: market/v2/models/Summary.js, line 105 Returns: Type string √ó Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString warframe-nexus-query A Node.js library for querying Warframe item prices from the Warframe.Market API. Features üîÑ Support for both Warframe Market API v1 and v2 üìä Real-time price statistics (median, min, max, average) üë• Live trader information with online status (v2) üåç Full internationalization support (12 languages) üéÆ Multi-platform support (PC, PlayStation, Xbox, Nintendo Switch) üíæ Smart caching with version-based invalidation üì± Discord webhook integration ready Installation npm install --save warframe-nexus-query Quick Start import PriceCheckQuerier from 'warframe-nexus-query'; const querier = new PriceCheckQuerier({ logger: console }); // Query item prices const results = await querier.priceCheckQuery('loki prime', 'pc'); console.log(results); // Get Discord-formatted attachments const attachments = await querier.priceCheckQueryAttachment('ash prime systems', undefined, 'pc'); console.log(attachments); // Clean up when done await querier.stopUpdating(); API Constructor const querier = new PriceCheckQuerier(options); Options: logger - Logger instance (default: console) marketCache - Custom cache implementation (optional) skipMarket - Skip market data fetching (default: false) Methods priceCheckQuery(query, platform) Query item prices and return raw result objects. Parameters: query (string) - Item name to search for platform (string) - Platform: 'pc', 'ps4', 'playstation', 'xb1', 'xbox', 'xbone', 'swi', 'switch', 'ns' Returns: Promise&lt;Array&lt;Summary&gt;&gt; - Array of price summary objects const results = await querier.priceCheckQuery('nova prime set', 'pc'); priceCheckQueryString(query, platform) Query item prices and return formatted string. Parameters: query (string) - Item name to search for platform (string) - Platform identifier Returns: Promise&lt;string&gt; - Formatted price string const priceString = await querier.priceCheckQueryString('maiming strike', 'pc'); console.log(priceString); // \"Maiming Strike: 150p (avg)\" priceCheckQueryAttachment(query, priorResults, platform) Query item prices and return Discord-formatted embeds. Parameters: query (string) - Item name to search for priorResults (Array|undefined) - Prior query results to use instead of fetching new data platform (string) - Platform identifier Returns: Promise&lt;Array&lt;Object&gt;&gt; - Array of Discord embed objects const embeds = await querier.priceCheckQueryAttachment('condition overload', undefined, 'pc'); // Send embeds to Discord webhook await fetch(webhookUrl, { method: 'POST', body: JSON.stringify({ embeds }), headers: { 'Content-Type': 'application/json' }, }); stopUpdating() Clean up resources and stop background updates. await querier.stopUpdating(); Environment Variables Variable Description Default Example WARFRAME_MARKET_API_VERSION API version to use v1 v2 MARKET_TIMEOUT API request timeout (ms) 30000 60000 MARKET_CACHE_PATH Cache directory path ./cache /tmp/wf-cache MARKET_V2_URL_OVERRIDE Custom v2 API base URL - https://custom.api/v2 API Version Selection Switch between v1 and v2 APIs: # Use v2 API (recommended) WARFRAME_MARKET_API_VERSION=v2 node app.js # Use v1 API (legacy) WARFRAME_MARKET_API_VERSION=v1 node app.js API v2 Features The v2 API includes enhanced features: Version-based caching - Automatic cache invalidation when items update Real-time trader data - See who's online and ready to trade Trader activity - View current in-game activity (mission, dojo, relay, etc.) User reputation - Trader reputation scores Crossplay support - Trade across platforms Better performance - Optimized endpoints for faster queries v2 Example Response { item: 'Ash Prime Systems', prices: { selling: { median: 15, average: 18.5, min: 10, max: 30 }, buying: { median: 12, average: 11.8, min: 8, max: 15 } }, traders: [ { user: 'TraderName', platinum: 15, quantity: 3, status: 'online', reputation: 156, activity: 'In Dojo' } ] } Platform Aliases The following platform identifiers are supported: Platform Aliases PC pc PlayStation ps4, playstation Xbox xb1, xbox, xbone Nintendo Switch swi, switch, ns Response Objects Summary Object Result object returned by priceCheckQuery(): { type: 'market-v2', // 'market' for v1, 'market-v2' for v2 item: 'Item Name', platform: 'pc', componentName: 'Set', prices: { selling: { median: 100, average: 105.5, min: 80, max: 150, count: 25 }, buying: { median: 90, average: 88.2, min: 60, max: 95, count: 15 } }, traders: [ // v2 only { user: 'Username', platinum: 100, quantity: 2, status: 'online', // 'online' | 'ingame' | 'offline' reputation: 250, activity: 'On Mission' } ] } Discord Embed Object Result object returned by priceCheckQueryAttachment(): { title: 'Ash Prime Systems [PC]', url: 'https://warframe.market/items/ash_prime_systems', thumbnail: { url: 'https://warframe.market/static/assets/...' }, color: 0x336699, fields: [ { name: 'Selling', value: 'üí∞ 15p (median)\\nüìä 10-30p range\\nüì¶ 25 orders', inline: true }, { name: 'Buying', value: 'üí∞ 12p (median)\\nüìä 8-15p range\\nüì¶ 15 orders', inline: true }, { name: 'üü¢ Online Traders', value: 'TraderName: 15p x3' } ], footer: { text: 'Warframe Market ‚Ä¢ Updated 2 minutes ago' } } Examples Basic Price Check import PriceCheckQuerier from 'warframe-nexus-query'; const querier = new PriceCheckQuerier({ logger: console }); // Search for an item const results = await querier.priceCheckQuery('nikana prime', 'pc'); results.forEach((result) =&gt; { console.log(`${result.item} - ${result.componentName}`); console.log(`Median sell price: ${result.prices.selling.median}p`); console.log(`Median buy price: ${result.prices.buying.median}p`); }); await querier.stopUpdating(); Discord Bot Integration import PriceCheckQuerier from 'warframe-nexus-query'; import { Client, GatewayIntentBits } from 'discord.js'; const bot = new Client({ intents: [GatewayIntentBits.Guilds] }); const querier = new PriceCheckQuerier({ logger: console }); bot.on('interactionCreate', async (interaction) =&gt; { if (!interaction.isChatInputCommand()) return; if (interaction.commandName === 'price') { const item = interaction.options.getString('item'); const platform = interaction.options.getString('platform') || 'pc'; const embeds = await querier.priceCheckQueryAttachment(item, undefined, platform); if (embeds.length &gt; 0) { await interaction.reply({ embeds }); } else { await interaction.reply('No results found for that item.'); } } }); bot.login(process.env.DISCORD_TOKEN); Multi-Platform Price Comparison import PriceCheckQuerier from 'warframe-nexus-query'; const querier = new PriceCheckQuerier({ logger: console }); const platforms = ['pc', 'ps4', 'xbox', 'switch']; for (const platform of platforms) { const results = await querier.priceCheckQuery('Trinity Prime Set', platform); if (results.length &gt; 0) { const price = results[0].prices.selling.median; console.log(`${platform.toUpperCase()}: ${price}p`); } } await querier.stopUpdating(); Testing # Run tests npm test # Run linter npm run lint # Generate coverage report npm run coverage # Generate API documentation npm run build:docs Development # Clone repository git clone https://github.com/WFCD/warframe-nexus-query.git cd warframe-nexus-query # Install dependencies npm install # Run tests in watch mode npm test -- --watch # Lint and auto-fix npm run lint:fix Contributing Contributions are welcome! Please: Fork the repository Create a feature branch (git checkout -b feature/amazing-feature) Commit your changes (git commit -m 'feat: add amazing feature') Push to the branch (git push origin feature/amazing-feature) Open a Pull Request License Licensed under the Apache License 2.0. See LICENSE for details. Links GitHub Repository npm Package Warframe Market API Discord Community Warframe Community Developers Acknowledgments Built by the Warframe Community Developers Powered by Warframe.Market API Maintained by tobitenno and contributors √ó Search results Close "},"OrderUser.html":{"id":"OrderUser.html","title":"Class: OrderUser","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Class: OrderUser OrderUser User information embedded in orders new OrderUser() Source: market/v2/models/Order.js, line 4 Methods getActivityDescription() Get activity description Source: market/v2/models/Order.js, line 30 Returns: Type string getStatusEmoji() Get status emoji Source: market/v2/models/Order.js, line 55 Returns: Type string isOnline() Check if user is online Source: market/v2/models/Order.js, line 22 Returns: Type boolean toJSON() Convert to JSON Source: market/v2/models/Order.js, line 74 Returns: Type Object √ó Search results Close "},"module.html#.exports":{"id":"module.html#.exports","title":"Class: exports","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Class: exports exports Create the attachment itself new exports() Source: AttachmentCreator.js, line 140 Class: exports exports Settings storage for nexus query new exports() Properties: Name Type Description maxCacheLength number maximum length to store cached data urls Object URL list for nexus stats Source: Settings.js, line 7 Class: exports exports Item model for Warframe Market API v2 Represents a tradable item with full metadata and i18n support new exports(data, locale) Parameters: Name Type Default Description data Object Raw item data from API locale string en Language code for i18n Source: market/v2/models/Item.js, line 5 Class: exports exports Order model for Warframe Market API v2 Represents a buy or sell order with optional user information new exports(data) Parameters: Name Type Description data Object Raw order data from API Source: market/v2/models/Order.js, line 94 Class: exports exports Version-based cache system for Warframe Market API v2 Uses version hashes from /v2/versions endpoint to invalidate cache new exports() Source: market/v2/utils/cache.js, line 7 Class: exports exports HTTP Client for Warframe Market API v2 new exports(options) Parameters: Name Type Description options Object Client options Properties Name Type Argument Description baseURL string &lt;optional&gt; Base URL for API timeout number &lt;optional&gt; Request timeout in ms locale string &lt;optional&gt; Default language logger Object &lt;optional&gt; Logger instance Source: market/v2/utils/http.js, line 39 √ó Search results Close "},"module.exports_module.exports.html":{"id":"module.exports_module.exports.html","title":"Class: exports","body":" warframe-nexus-query Classes OrderUsermodule.exportsmodule.exports#module.exports Global API_BASE_URLattachmentFromComponentscalculateMediancalculatePercentilecalculateStatisticscheckVersionsclearclearCachedeleteextractLocalizedfetchWithTimeoutfieldValuefieldValueV2formatPriceRangeformatStatisticsgetgetAgeHoursgetAllOrdersgetBestOrdersgetIconUrlgetItemBySluggetItemSetgetItemsgetLocalizedgetLocalizedFieldgetOnlineBuyersgetOnlineSellersgetRecentOrdersgetThumbUrlgetTopOrdershasisBuyOrderisPartOfSetisSellOrderisUserOnlineisVaultedlookupAliasnormalizeLanguagenormalizePlatformpadpostpriceCheckQueryqueryMarketrefreshremoveOutlierssafeRangesafeValuesetsetLocalesetTimeoutshouldRefreshsizestoptoJSONtoString Class: exports exports new exports(options) Parameters: Name Type Description options Object Fetcher options Properties Name Type Argument Default Description locale string &lt;optional&gt; 'en' Default language timeout number &lt;optional&gt; 5000 Request timeout in ms logger Object &lt;optional&gt; Logger instance cacheSize number &lt;optional&gt; 100 Cache size cacheTTL number &lt;optional&gt; Cache TTL in ms Source: market/v2/MarketFetcherV2.js, line 30 Class: exports exports new exports(item, orders, statistics) Create a summary from v2 Item and Order data Parameters: Name Type Description item Item Item object orders Object Orders object with { buy, sell } statistics Object Statistics object with { buy, sell } Source: market/v2/models/Summary.js, line 15 √ó Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
