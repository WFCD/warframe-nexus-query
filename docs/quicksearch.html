<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"lib_component.js.html":{"id":"lib_component.js.html","title":"Source: lib/component.js","body":" json-fetch-cache Classes ComponentWarframeNexusStats Source: lib/component.js 'use strict'; /** * Represents an individual component object of an item. */ class Component { /** * Represents an individual component object of an item. * @param {json} data the component data to parse into a component * @constructor */ constructor(data) { /** * Name of the component, display value * @type {string} */ this.name = data.name; /** * Average price of the component as a string * @type {string} */ this.avgPrice = data.avg; /** * Raw average price of the component as a number * @type {number} */ this.rawAverage = data.comp_val_rt; /** * Component data * @type {JSON} */ this.data = data.data; } /** * The components's string representation * @returns {string} */ toString() { return `\\u221F${this.padName(this.name)} | average: ${(this.avgPrice !== '' ? this.avgPrice : '0p')}`; } /** * Pad the left side of a string so that all componets * have the same string length before the pipe * @param {string} locationString the location string to pad * @returns {string} the padded location string */ padName(locationString) { let stringRet; if (locationString.length &lt; 10) { stringRet = this.padName(`${locationString} `); } else { stringRet = locationString; } return stringRet; } } module.exports = Component; × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"lib_item.js.html":{"id":"lib_item.js.html","title":"Source: lib/item.js","body":" json-fetch-cache Classes ComponentWarframeNexusStats Source: lib/item.js 'use strict'; const md = require('node-md-config'); const Component = require('./component.js'); function safeGetAmountString(checkThing) { return typeof checkThing !== 'undefined' ? checkThing : '0'; } class Item { constructor(data) { /** * Array of Component objects * @type {Array&lt;Component&gt;} */ this.components = []; /** * Unique identifier for the item * @type {string} */ this.id = data.id; /** * Title (name) of item * @type {string} */ this.title = data.Title; /** * Type of the item, such as: * * Prime * * Mods * * Arcane * * Syndicate * @type {string} */ this.type = data.Type; /** * Percentage of the available data that is a sell request * @type {string} */ this.supplyPercent = safeGetAmountString(data.SupDem[0]); /** * Percentage of the available data that is a buy request * @type {string} */ this.demandPercent = safeGetAmountString(data.SupDem[1]); /** * Amount of the available data that is a sell request * @type {string} */ this.supplyAmount = safeGetAmountString(data.SupDemNum[0]); /** * Amount of the available data that is a sell request * @type {string} */ this.demandAmount = safeGetAmountString(data.SupDemNum[1]); const self = this; data.Components.forEach((componentData) =&gt; { self.components.push(new Component(componentData)); }); } /** * String representation of this Item. * @returns {string} */ toString() { let componentString = `${md.codeMulti}${this.title}${md.lineEnd}\\u3000Supply: ${this.supplyAmount} units - ${this.supplyPercent}%${md.lineEnd}\\u3000Demand: ${this.demandAmount} units - ${this.demandPercent}%${md.lineEnd}\\u3000\\u3000`; for (let i = 0; i &lt; this.components.length; i += 1) { componentString += this.components[i].toString() + (i &lt; this.components.length - 1 ? `,${md.lineEnd}\\u3000\\u3000` : ''); } return `${componentString}${md.blockEnd}`; } } module.exports = Item; × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" json-fetch-cache Classes ComponentWarframeNexusStats Source: index.js 'use strict'; const maxCacheLength = process.env.NEXUSSTATS_MAX_CACHED_TIME || 60000; const url = 'https://nexus-stats.com/api'; const Item = require('./lib/item.js'); const md = require('node-md-config'); const jsonQuery = require('json-query'); const Cache = require('json-fetch-cache'); /** * Represents a queryable datastore of information derived from `https://nexus-stats.com/api` */ class WarframeNexusStats { /** * Creates an instance representing a WarframeNexusStats data object * @constructor */ constructor() { /** * The json cache storing data from nexus-stats.com * @type {Cache} */ this.nexusCache = new Cache(url, maxCacheLength); } /** * Lookup a list of results for a query * @param {string} query Query to search the nexus-stats database against * @returns {Promise&lt;Array&lt;Item&gt;&gt;} a Promise of an array of Item objects */ priceCheckQuery(query) { return new Promise((resolve, reject) =&gt; { this.nexusCache.getData() .then((dataCache) =&gt; { const results = jsonQuery(`items[*Title~/${query}/i]`, { data: dataCache, allowRegexp: true, }); const componentsToReturn = []; if (typeof results.value === 'undefined') { reject(new Error('No value for given query - WarframeNexusStats.prototype.priceCheckQuery', 'warframe-nexus-query/index.js', 34), null); } results.value.slice(0, 4).forEach((item) =&gt; { componentsToReturn.push(new Item(item)); }); resolve(componentsToReturn); }) .catch((error) =&gt; { reject(error); }); }); } /** * Lookup a list of results for a query * @param {string} query Query to search the nexus-stats database against * @returns {Promise&lt;string&gt;} a Promise of a string containing the results of the query */ priceCheckQueryString(query) { return new Promise((resolve, reject) =&gt; { const defaultString = `${md.codeMulti}Operator, there is no such item pricecheck available.${md.blockEnd}`; this.priceCheckQuery(query) .then((components) =&gt; { const tokens = []; components.slice(0, 4).forEach((component) =&gt; { tokens.push(`${md.lineEnd}${component.toString()}`); }); let componentsToReturnString = `${md.codeMulti}${tokens.join()}${md.blockEnd}`; componentsToReturnString = components.length &gt; 0 ? componentsToReturnString : defaultString; resolve(componentsToReturnString); }) .catch((error) =&gt; { reject(error); }); }); } } module.exports = WarframeNexusStats; × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" json-fetch-cache Classes ComponentWarframeNexusStats Classes Classes Component WarframeNexusStats × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" json-fetch-cache Classes ComponentWarframeNexusStats warframe-nexus-queryA node project for allowing simple access to the https://nexus-stats.com/ api. Installationnpm install --save warframe-nexus-queryUsage Require Module File Accessor Description parameters warframe-nexus-query index.js .priceCheckQueryString Get Query result string query, callback warframe-nexus-query index.js .priceCheckQuery Get Query result objects, has more parameters available query, callback Environment variables Variable example default NEXUSSTATS_MAX_CACHED_TIME 600000 30000 ObjectsItem components - List of component objects id - Unique identifier for the Item object title - Title of the item type - Type of the item supplyPercent - Of the total amount of item listings for this object, this is the percent for sale demandPercent - Of the total amount of item listings for this object, this is t looking to be bought supplyAmount - Of the total amount of item listings for this object, this is the number for sale demandAmount - Of the total amount of item listings for this object, this is the number looking to be bought Component name - Name of the component avgPrice - Average platinum price rawAverage - Raw average (non-rounded) price of the component data - Array of Miscellaneous data × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"Component.html":{"id":"Component.html","title":"Class: Component","body":" json-fetch-cache Classes ComponentWarframeNexusStats Class: Component Component Represents an individual component object of an item. new Component(data) Represents an individual component object of an item. Parameters: Name Type Description data json the component data to parse into a component Source: lib/component.js, line 6 Members avgPrice :string Average price of the component as a string Type: string Source: lib/component.js, line 24 data :JSON Component data Type: JSON Source: lib/component.js, line 36 name :string Name of the component, display value Type: string Source: lib/component.js, line 18 rawAverage :number Raw average price of the component as a number Type: number Source: lib/component.js, line 30 Methods padName(locationString) Pad the left side of a string so that all componets have the same string length before the pipe Parameters: Name Type Description locationString string the location string to pad Source: lib/component.js, line 53 Returns: the padded location string Type string toString() The components's string representation Source: lib/component.js, line 43 Returns: Type string × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:56 using the DocStrap template. "},"WarframeNexusStats.html":{"id":"WarframeNexusStats.html","title":"Class: WarframeNexusStats","body":" json-fetch-cache Classes ComponentWarframeNexusStats Class: WarframeNexusStats WarframeNexusStats Represents a queryable datastore of information derived from `https://nexus-stats.com/api` new WarframeNexusStats() Creates an instance representing a WarframeNexusStats data object Source: index.js, line 14 Members nexusCache :Cache The json cache storing data from nexus-stats.com Type: Cache Source: index.js, line 24 Methods priceCheckQuery(query) Lookup a list of results for a query Parameters: Name Type Description query string Query to search the nexus-stats database against Source: index.js, line 32 Returns: a Promise of an array of Item objects Type Promise.&lt;Array.&lt;Item&gt;&gt; priceCheckQueryString(query) Lookup a list of results for a query Parameters: Name Type Description query string Query to search the nexus-stats database against Source: index.js, line 62 Returns: a Promise of a string containing the results of the query Type Promise.&lt;string&gt; × Search results Close Documentation generated by JSDoc 3.4.2 on Sunday, October 16th 2016, 04:11:57 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
